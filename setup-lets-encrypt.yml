#*  This playbook installs and prepares everything for acme-tiny.
#*  Note: this playbook should be used either from the main install playbook
#* (which resolves its dependencies) or as a shorthand for an already set up
#* system, where the dependencies are already provided.
#*  Use '-a' to pass parameters to ansible (as '-e'). See ansible fetch for
#* details.
#*  No arguments are mandatory.

- include: install-acme.yml

# Do on all hosts related to acme
- hosts: app.acme
  become: True
  roles:
    - zwischenloesung.acme-tiny-setup

# Do only on hosts with the acme-tiny application actually installed
- hosts: app.acme.tiny
  become: True
  roles:
    - zwischenloesung.acme-tiny

